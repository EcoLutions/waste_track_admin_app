<div class="min-h-screen flex items-center justify-center p-4 relative overflow-hidden bg-gradient-to-br from-emerald-600 via-teal-600 to-cyan-600">

  <!-- Animated Background Elements -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-20 left-20 w-72 h-72 bg-emerald-400/20 rounded-full blur-3xl animate-float"></div>
    <div class="absolute bottom-20 right-20 w-96 h-96 bg-teal-400/20 rounded-full blur-3xl animate-float-delayed"></div>
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-cyan-400/20 rounded-full blur-3xl animate-pulse-slow"></div>
  </div>

  <!-- Login Card - Custom con Tailwind -->
  <div class="relative z-10 w-full max-w-md animate-fade-in-up">

    <!-- Card Container -->
    <div class="bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl overflow-hidden transition-all duration-300 hover:shadow-emerald-500/20 hover:-translate-y-1">

      <!-- Header -->
      <div class="relative bg-gradient-to-br from-emerald-600 to-teal-600 p-10 text-center overflow-hidden">

        <!-- Animated Grid Pattern -->
        <div class="absolute inset-0 opacity-10">
          <div class="absolute inset-0 bg-grid-pattern animate-grid-move"></div>
        </div>

        <!-- Logo y Título -->
        <div class="relative z-10 flex flex-col items-center">
          <!-- Logo Container -->
          <div class="bg-white/20 backdrop-blur-md rounded-2xl p-5 shadow-lg mb-5 animate-float">
            <img
              src="assets/images/logo.png"
              alt="WasteTrack Logo"
              class="h-20 w-auto"
              loading="eager">
          </div>

          <!-- Brand Name -->
          <h1 class="text-4xl font-bold text-white mb-2 tracking-tight drop-shadow-lg">
            WasteTrack
          </h1>

          <p class="text-white/95 text-base font-medium">
            Sistema de Gestión de Residuos
          </p>
        </div>
      </div>

      <!-- Form Section -->
      <div class="p-8">
        <form (ngSubmit)="onSignIn()" class="space-y-6">

          <!-- Error Alert - Custom -->
          @if (authStore.error()) {
            <div class="animate-slide-down bg-red-50 border-l-4 border-red-500 rounded-lg p-4 shadow-sm">
              <div class="flex items-start gap-3">
                <i class="pi pi-exclamation-triangle text-red-500 text-xl flex-shrink-0 mt-0.5"></i>
                <div class="flex-1">
                  <h3 class="text-sm font-semibold text-red-800 mb-1">
                    Error de autenticación
                  </h3>
                  <p class="text-sm text-red-700">
                    {{ authStore.error() }}
                  </p>
                </div>
              </div>
            </div>
          }

          <!-- Username Input -->
          <div class="space-y-2">
            <label
              for="username"
              class="block text-sm font-semibold text-gray-700 mb-2">
              <i class="pi pi-user text-gray-400"></i>
              Usuario
            </label>
            <span class="p-input-icon-left block">
              <input
                pInputText
                id="username"
                type="text"
                [(ngModel)]="credentials.username"
                name="username"
                placeholder="Ingrese su usuario"
                class="w-full pl-10 pr-4 py-3 rounded-xl border-2 border-gray-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-100 transition-all duration-200 outline-none"
                [class.border-red-500]="authStore.error()"
                [class.bg-red-50]="authStore.error()"
                (keydown)="onKeyPress($event)"
                autocomplete="username"
                required>
            </span>
          </div>

          <!-- Password Input -->
          <div class="space-y-2">
            <label
              for="password"
              class="block text-sm font-semibold text-gray-700 mb-2">
              <i class="pi pi-lock text-gray-400"></i>
              Contraseña
            </label>
            <span class="p-input-icon-left block">
              <p-password
                [(ngModel)]="credentials.password"
                name="password"
                [toggleMask]="true"
                [feedback]="false"
                placeholder="Ingrese su contraseña"
                class="w-full"
                inputStyleClass="w-full pl-10 pr-12 py-3 rounded-xl border-2 border-gray-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-100"
                [class.border-red-500]="authStore.error()"
                [class.bg-red-50]="authStore.error()"
                (keydown)="onKeyPress($event)"
                autocomplete="current-password"
                required>
              </p-password>
            </span>
          </div>

          <!-- Submit Button - Custom -->
          <div class="pt-2">
            <button
              type="submit"
              [disabled]="authStore.isLoading() || !isFormValid"
              class="w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white font-semibold py-3.5 px-6 rounded-xl shadow-lg shadow-emerald-500/30 hover:shadow-xl hover:shadow-emerald-500/40 transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:shadow-lg flex items-center justify-center gap-3 group">

              @if (authStore.isLoading()) {
                <i class="pi pi-spin pi-spinner text-lg"></i>
                <span>Iniciando sesión...</span>
              } @else {
                <i class="pi pi-sign-in text-lg group-hover:translate-x-1 transition-transform duration-300"></i>
                <span>Iniciar Sesión</span>
              }
            </button>
          </div>
        </form>
      </div>

      <!-- Footer -->
      <div class="px-8 pb-8 pt-4 border-t border-gray-100">
        <p class="text-sm text-center text-gray-600">
          ¿Problemas para iniciar sesión?
          <a
            href="#"
            class="text-emerald-600 hover:text-emerald-700 font-semibold hover:underline transition-colors ml-1">
            Contactar soporte
          </a>
        </p>
      </div>
    </div>
  </div>
</div>
